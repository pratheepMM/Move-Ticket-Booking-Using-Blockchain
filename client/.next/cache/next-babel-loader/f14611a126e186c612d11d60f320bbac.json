{"ast":null,"code":"import React from 'react';\nimport { getWeb3 } from './getWeb3';\nexport const getAccount = async admin => {\n  let address;\n  let isAdmin = false,\n      isAccount = false;\n\n  if (false && typeof window.ethereum != 'undefined') {\n    try {\n      await window.ethereum.enable();\n      address = await ethereum.selectedAddress;\n\n      if (address) {\n        isAccount = true;\n      }\n    } catch (e) {\n      console.log(e.message);\n    }\n  } else if (false && typeof window.web3 != 'undefined' && typeof window.web3.eth != 'undefined') {\n    window.web3.eth.getAccounts((err, acc) => {\n      if (err) {\n        console.log(err);\n      } else {\n        if (acc.length >= 1) isAccount = true;\n        console.log(this.state.account, acc);\n        address = acc;\n        console.log(\"acc 1\");\n      }\n    });\n  }\n\n  if (address) {\n    const {\n      web3\n    } = await getWeb3();\n    if (admin === web3.utils.toChecksumAddress(address)) isAdmin = true;\n  }\n\n  return {\n    isAccount,\n    isAdmin,\n    address\n  };\n};","map":{"version":3,"sources":["/home/pratheep/Work_Dir/main_dir/TicketBooking/client/components/getAccount.js"],"names":["React","getWeb3","getAccount","admin","address","isAdmin","isAccount","window","ethereum","enable","selectedAddress","e","console","log","message","web3","eth","getAccounts","err","acc","length","state","account","utils","toChecksumAddress"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,WAAtB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAMC,KAAN,IAAc;AACvC,MAAIC,OAAJ;AACA,MAAIC,OAAO,GAAG,KAAd;AAAA,MAAqBC,SAAS,GAAG,KAAjC;;AAEA,MAAG,SAA8B,OAAOC,MAAM,CAACC,QAAd,IAAwB,WAAzD,EAAqE;AACpE,QAAG;AACF,YAAMD,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AACAL,MAAAA,OAAO,GAAG,MAAMI,QAAQ,CAACE,eAAzB;;AACA,UAAGN,OAAH,EAAW;AACVE,QAAAA,SAAS,GAAG,IAAZ;AACA;AACD,KAND,CAOA,OAAMK,CAAN,EAAQ;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd;AACA;AACD,GAXD,MAaK,IAAG,SAA8B,OAAOP,MAAM,CAACQ,IAAd,IAAoB,WAAlD,IAAiE,OAAOR,MAAM,CAACQ,IAAP,CAAYC,GAAnB,IAAwB,WAA5F,EAAyG;AAC7GT,IAAAA,MAAM,CAACQ,IAAP,CAAYC,GAAZ,CAAgBC,WAAhB,CAA4B,CAACC,GAAD,EAAKC,GAAL,KAAW;AACtC,UAAGD,GAAH,EAAO;AACNN,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACA,OAFD,MAGI;AACH,YAAGC,GAAG,CAACC,MAAJ,IAAc,CAAjB,EACAd,SAAS,GAAG,IAAZ;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKQ,KAAL,CAAWC,OAAvB,EAA+BH,GAA/B;AACAf,QAAAA,OAAO,GAAGe,GAAV;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA;AACD,KAXD;AAYA;;AACD,MAAGT,OAAH,EAAW;AACV,UAAM;AAACW,MAAAA;AAAD,QAAS,MAAMd,OAAO,EAA5B;AACA,QAAGE,KAAK,KAAKY,IAAI,CAACQ,KAAL,CAAWC,iBAAX,CAA6BpB,OAA7B,CAAb,EACCC,OAAO,GAAG,IAAV;AACD;;AACD,SAAO;AAACC,IAAAA,SAAD;AAAWD,IAAAA,OAAX;AAAmBD,IAAAA;AAAnB,GAAP;AACA,CArCM","sourcesContent":["import React from 'react';\nimport {getWeb3} from './getWeb3';\n\nexport const getAccount = async(admin)=>{\n\tlet address;\n\tlet isAdmin = false, isAccount = false;\n\n\tif(typeof window!='undefined' && typeof window.ethereum!='undefined'){\n\t\ttry{\n\t\t\tawait window.ethereum.enable();\n\t\t\taddress = await ethereum.selectedAddress\n\t\t\tif(address){\n\t\t\t\tisAccount = true;\n\t\t\t}\n\t\t}\n\t\tcatch(e){\n\t\t\tconsole.log(e.message)\n\t\t}\n\t}\n\n\telse if(typeof window!='undefined' && typeof window.web3!='undefined' && typeof window.web3.eth!='undefined' ){\n\t\twindow.web3.eth.getAccounts((err,acc)=>{\n\t\t\tif(err){\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(acc.length >= 1)\n\t\t\t\tisAccount = true;\n\t\t\t\tconsole.log(this.state.account,acc);\n\t\t\t\taddress = acc;\n\t\t\t\tconsole.log(\"acc 1\")\n\t\t\t}\n\t\t})\t\n\t}\n\tif(address){\n\t\tconst {web3} = await getWeb3();\n\t\tif(admin === web3.utils.toChecksumAddress(address))\n\t\t\tisAdmin = true;\n\t}\n\treturn {isAccount,isAdmin,address}\n}"]},"metadata":{},"sourceType":"module"}