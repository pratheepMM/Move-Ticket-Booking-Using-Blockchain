{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Layout from '../../components/layout';\nimport { getContract } from '../../components/getContract';\nimport { getAccount } from '../../components/getAccount';\nimport AddShow from '../../components/admin-components/addShow';\nimport { Grid, Container, Loader, Dimmer } from 'semantic-ui-react';\nimport Head from 'next/head';\n\nclass AdminAddShow extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"changeLoading\", load => {\n      this.setState({\n        loading: load\n      });\n      console.log(\"got it ....\");\n    });\n\n    this.state = {\n      admin: false,\n      loading: true,\n      loadingValue: \"Loading\"\n    };\n  }\n\n  static async getInitialProps() {\n    const {\n      contract\n    } = await getContract();\n    const name = await contract.methods.name().call();\n    const admin = await contract.methods.admin().call();\n    return {\n      name,\n      admin\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      isAdmin,\n      isAccount\n    } = await getAccount(this.props.admin);\n    this.setState({\n      admin: isAdmin,\n      loading: false\n    });\n  }\n\n  render() {\n    if (!this.state.loading) {\n      return __jsx(Layout, {\n        id: 'Admin',\n        account: this.state.admin,\n        name: this.props.name\n      }, __jsx(Grid.Row, null, __jsx(Grid.Column, null, __jsx(AddShow, {\n        admin: this.state.admin,\n        adminAcc: this.props.admin,\n        changeLoading: this.changeLoading\n      })), \" \"));\n    } else {\n      return __jsx(Container, null, __jsx(Head, null, __jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\"\n      })), __jsx(Dimmer, {\n        active: true\n      }, __jsx(Loader, {\n        size: \"massive\"\n      }, \"Loading\")));\n    }\n  }\n\n}\n\nexport default AdminAddShow;","map":{"version":3,"sources":["/home/pratheep/Work_Dir/main_dir/TicketBooking/client/pages/admin/add-show.js"],"names":["React","Component","Layout","getContract","getAccount","AddShow","Grid","Container","Loader","Dimmer","Head","AdminAddShow","constructor","props","load","setState","loading","console","log","state","admin","loadingValue","getInitialProps","contract","name","methods","call","componentDidMount","isAdmin","isAccount","render","changeLoading"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAAQC,WAAR,QAA0B,8BAA1B;AACA,SAAQC,UAAR,QAAyB,6BAAzB;AACA,OAAOC,OAAP,MAAoB,2CAApB;AACA,SAAQC,IAAR,EAAaC,SAAb,EAAuBC,MAAvB,EAA8BC,MAA9B,QAA2C,mBAA3C;AACA,OAAOC,IAAP,MAAiB,WAAjB;;AAEA,MAAMC,YAAN,SAA2BV,SAA3B,CAAoC;AAEnCW,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;;AADiB,2CAuBDC,IAAD,IAAQ;AACvB,WAAKC,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAGF;AAAX,OAAd;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,KA1BiB;;AAEjB,SAAKC,KAAL,GAAa;AACZC,MAAAA,KAAK,EAAG,KADI;AAEZJ,MAAAA,OAAO,EAAG,IAFE;AAGZK,MAAAA,YAAY,EAAG;AAHH,KAAb;AAKA;;AACD,eAAaC,eAAb,GAA8B;AAC7B,UAAM;AAACC,MAAAA;AAAD,QAAa,MAAMpB,WAAW,EAApC;AACA,UAAMqB,IAAI,GAAG,MAAMD,QAAQ,CAACE,OAAT,CAAiBD,IAAjB,GAAwBE,IAAxB,EAAnB;AACA,UAAMN,KAAK,GAAG,MAAMG,QAAQ,CAACE,OAAT,CAAiBL,KAAjB,GAAyBM,IAAzB,EAApB;AACA,WAAM;AAACF,MAAAA,IAAD;AAAMJ,MAAAA;AAAN,KAAN;AACA;;AAED,QAAMO,iBAAN,GAAyB;AACxB,UAAM;AAACC,MAAAA,OAAD;AAASC,MAAAA;AAAT,QAAsB,MAAMzB,UAAU,CAAC,KAAKS,KAAL,CAAWO,KAAZ,CAA5C;AACA,SAAKL,QAAL,CAAc;AACbK,MAAAA,KAAK,EAAGQ,OADK;AAEbZ,MAAAA,OAAO,EAAG;AAFG,KAAd;AAIA;;AAODc,EAAAA,MAAM,GAAE;AAEP,QAAG,CAAC,KAAKX,KAAL,CAAWH,OAAf,EAAuB;AAEtB,aACC,MAAC,MAAD;AACC,QAAA,EAAE,EAAE,OADL;AAEC,QAAA,OAAO,EAAE,KAAKG,KAAL,CAAWC,KAFrB;AAGC,QAAA,IAAI,EAAE,KAAKP,KAAL,CAAWW;AAHlB,SAKC,MAAC,IAAD,CAAM,GAAN,QAAU,MAAC,IAAD,CAAM,MAAN,QACT,MAAC,OAAD;AAAS,QAAA,KAAK,EAAE,KAAKL,KAAL,CAAWC,KAA3B;AACC,QAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWO,KADtB;AAEC,QAAA,aAAa,EAAE,KAAKW;AAFrB,QADS,CAAV,MALD,CADD;AAcA,KAhBD,MAiBI;AAEH,aACC,MAAC,SAAD,QACC,MAAC,IAAD,QACC;AAAM,QAAA,GAAG,EAAC,YAAV;AAAuB,QAAA,IAAI,EAAC;AAA5B,QADD,CADD,EAIC,MAAC,MAAD;AAAQ,QAAA,MAAM;AAAd,SACC,MAAC,MAAD;AAAQ,QAAA,IAAI,EAAC;AAAb,mBADD,CAJD,CADD;AAUA;AACD;;AA9DkC;;AAiEpC,eAAepB,YAAf","sourcesContent":["import React,{Component} from 'react';\nimport Layout from '../../components/layout';\nimport {getContract} from '../../components/getContract';\nimport {getAccount} from '../../components/getAccount';\nimport AddShow from '../../components/admin-components/addShow'\nimport {Grid,Container,Loader,Dimmer} from 'semantic-ui-react';\nimport Head from 'next/head'\n\nclass AdminAddShow extends Component{\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tadmin : false,\n\t\t\tloading : true,\n\t\t\tloadingValue : \"Loading\"\n\t\t}\n\t}\n\tstatic async getInitialProps(){\n\t\tconst {contract} = await getContract();\n\t\tconst name = await contract.methods.name().call()\n\t\tconst admin = await contract.methods.admin().call()\n\t\treturn{name,admin}\n\t}\n\n\tasync componentDidMount(){\n\t\tconst {isAdmin,isAccount} = await getAccount(this.props.admin);\n\t\tthis.setState({\n\t\t\tadmin : isAdmin,\n\t\t\tloading : false\n\t\t})\n\t}\n\n\tchangeLoading = (load)=>{\n\t\tthis.setState({loading : load})\n\t\tconsole.log(\"got it ....\")\n\t}\n\n\trender(){\n\n\t\tif(!this.state.loading){\n\n\t\t\treturn(\n\t\t\t\t<Layout \n\t\t\t\t\tid={'Admin'}\n\t\t\t\t\taccount={this.state.admin}\n\t\t\t\t\tname={this.props.name}\n\t\t\t\t\t>\n\t\t\t\t\t<Grid.Row><Grid.Column>\n\t\t\t\t\t\t<AddShow admin={this.state.admin}\n\t\t\t\t\t\t\tadminAcc={this.props.admin}\n\t\t\t\t\t\t\tchangeLoading={this.changeLoading}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid.Column> </Grid.Row>\n\t\t\t\t</Layout>\n\t\t\t)\n\t\t}\n\t\telse{\n\n\t\t\treturn(\n\t\t\t\t<Container>\n\t\t\t\t\t<Head>\n\t\t\t\t\t\t<link rel=\"stylesheet\" href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\" />\n\t\t\t\t\t</Head>\n\t\t\t\t\t<Dimmer active>\n\t\t\t\t\t\t<Loader size='massive'>Loading</Loader>\n\t\t\t\t\t</Dimmer>\n\t\t\t\t</Container>\n\t\t\t)\n\t\t}\n\t}\n}\n\nexport default AdminAddShow;"]},"metadata":{},"sourceType":"module"}