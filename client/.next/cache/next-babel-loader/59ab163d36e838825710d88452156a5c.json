{"ast":null,"code":"import React from 'react';\nimport TicketBooking from '../../build/contracts/TicketBooking.json';\nimport web3 from './web3';\nlet networkId, ticketBooking;\n\nconst getContract = async () => {\n  if (typeof web3.eth.net !== 'undefined') {\n    const netId = await web3.eth.net.getId();\n    ticketBooking = await new web3.eth.Contract(TicketBooking.abi, TicketBooking.networks[netId].address);\n    const showCount = await ticketBooking.methods.getShowCount().call();\n    console.log(\"first\", showCount);\n  } else {\n    console.log(\"second\");\n    await web3.version.getNetwork((err, id) => {\n      if (err) {\n        console.log(err);\n      } else {\n        networkId = id;\n      }\n    });\n    const netData = TicketBooking.networks[networkId];\n    console.log('netdata', netData);\n\n    if (netData) {\n      ticketBooking = await new web3.eth.Contract(TicketBooking.abi, netData.address);\n    } else {\n      window.alert(\"the contract is not deployed in this network\");\n    }\n  }\n};\n\ngetContract();\nexport default ticketBooking;","map":{"version":3,"sources":["/home/pratheep/main_dir/TicketBooking/client/components/contract.js"],"names":["React","TicketBooking","web3","networkId","ticketBooking","getContract","eth","net","netId","getId","Contract","abi","networks","address","showCount","methods","getShowCount","call","console","log","version","getNetwork","err","id","netData","window","alert"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,IAAIC,SAAJ,EAAcC,aAAd;;AAEA,MAAMC,WAAW,GAAG,YAAU;AAC7B,MAAG,OAAOH,IAAI,CAACI,GAAL,CAASC,GAAhB,KAAwB,WAA3B,EAAuC;AACtC,UAAMC,KAAK,GAAG,MAAMN,IAAI,CAACI,GAAL,CAASC,GAAT,CAAaE,KAAb,EAApB;AACAL,IAAAA,aAAa,GAAG,MAAM,IAAIF,IAAI,CAACI,GAAL,CAASI,QAAb,CAAsBT,aAAa,CAACU,GAApC,EAAwCV,aAAa,CAACW,QAAd,CAAuBJ,KAAvB,EAA8BK,OAAtE,CAAtB;AACA,UAAMC,SAAS,GAAG,MAAMV,aAAa,CAACW,OAAd,CAAsBC,YAAtB,GAAqCC,IAArC,EAAxB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBL,SAApB;AACA,GALD,MAMI;AACHI,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,UAAMjB,IAAI,CAACkB,OAAL,CAAaC,UAAb,CAAwB,CAACC,GAAD,EAAKC,EAAL,KAAU;AACtC,UAAGD,GAAH,EAAO;AACNJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACA,OAFD,MAGI;AACHnB,QAAAA,SAAS,GAAGoB,EAAZ;AACA;AACD,KAPI,CAAN;AAQA,UAAMC,OAAO,GAAGvB,aAAa,CAACW,QAAd,CAAuBT,SAAvB,CAAhB;AACAe,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBK,OAAtB;;AACA,QAAGA,OAAH,EAAW;AACVpB,MAAAA,aAAa,GAAG,MAAM,IAAIF,IAAI,CAACI,GAAL,CAASI,QAAb,CAAsBT,aAAa,CAACU,GAApC,EAAwCa,OAAO,CAACX,OAAhD,CAAtB;AACA,KAFD,MAGI;AACHY,MAAAA,MAAM,CAACC,KAAP,CAAa,8CAAb;AACA;AAED;AAED,CA5BD;;AA8BArB,WAAW;AAEX,eAAeD,aAAf","sourcesContent":["import React from 'react';\nimport TicketBooking from '../../build/contracts/TicketBooking.json'\nimport web3 from './web3'\n\nlet networkId,ticketBooking;\n\nconst getContract = async ()=>{\n\tif(typeof web3.eth.net !== 'undefined'){\n\t\tconst netId = await web3.eth.net.getId();\n\t\tticketBooking = await new web3.eth.Contract(TicketBooking.abi,TicketBooking.networks[netId].address);\n\t\tconst showCount = await ticketBooking.methods.getShowCount().call()\n\t\tconsole.log(\"first\",showCount)\n\t}\n\telse{\n\t\tconsole.log(\"second\")\n\t\tawait web3.version.getNetwork((err,id)=>{\n\t\t\t\tif(err){\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tnetworkId = id\n\t\t\t\t}\n\t\t\t})\n\t\tconst netData = TicketBooking.networks[networkId]\n\t\tconsole.log('netdata',netData)\n\t\tif(netData){\n\t\t\tticketBooking = await new web3.eth.Contract(TicketBooking.abi,netData.address);\n\t\t}\n\t\telse{\n\t\t\twindow.alert(\"the contract is not deployed in this network\");\n\t\t} \n\t\t\n\t}\n\n}\n\ngetContract()\n\nexport default ticketBooking;"]},"metadata":{},"sourceType":"module"}