{"ast":null,"code":"import React from 'react';\nimport { getWeb3 } from './getWeb3';\nexport const getAccount = async admin => {\n  let address;\n  let isAdmin = false,\n      isAccount = false;\n\n  if (false && typeof window.ethereum != 'undefined') {\n    await window.ethereum.enable();\n    address = await ethereum.selectedAddress;\n\n    if (address) {\n      isAccount = true;\n    }\n\n    console.log(\"acc 1\", address);\n  } else if (false && typeof window.web3 != 'undefined' && typeof window.web3.eth != 'undefined') {\n    window.web3.eth.getAccounts((err, acc) => {\n      if (err) {\n        console.log(err);\n      } else {\n        if (acc.length >= 1) isAccount = true;\n        console.log(this.state.account, acc);\n        address = acc;\n        console.log(\"acc 1\");\n      }\n    });\n  }\n\n  if (address) {\n    const {\n      web3\n    } = await getWeb3();\n    if (admin === web3.utils.toChecksumAddress(address)) isAdmin = true;\n  }\n\n  return {\n    isAccount,\n    isAdmin,\n    address\n  };\n};","map":{"version":3,"sources":["/home/pratheep/Work_Dir/main_dir/TicketBooking/client/components/getAccount.js"],"names":["React","getWeb3","getAccount","admin","address","isAdmin","isAccount","window","ethereum","enable","selectedAddress","console","log","web3","eth","getAccounts","err","acc","length","state","account","utils","toChecksumAddress"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,WAAtB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAMC,KAAN,IAAc;AACvC,MAAIC,OAAJ;AACA,MAAIC,OAAO,GAAG,KAAd;AAAA,MAAqBC,SAAS,GAAG,KAAjC;;AAEA,MAAG,SAA8B,OAAOC,MAAM,CAACC,QAAd,IAAwB,WAAzD,EAAqE;AACpE,UAAMD,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AACAL,IAAAA,OAAO,GAAG,MAAMI,QAAQ,CAACE,eAAzB;;AACA,QAAGN,OAAH,EAAW;AACVE,MAAAA,SAAS,GAAG,IAAZ;AACA;;AACDK,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBR,OAApB;AACA,GAPD,MASK,IAAG,SAA8B,OAAOG,MAAM,CAACM,IAAd,IAAoB,WAAlD,IAAiE,OAAON,MAAM,CAACM,IAAP,CAAYC,GAAnB,IAAwB,WAA5F,EAAyG;AAC7GP,IAAAA,MAAM,CAACM,IAAP,CAAYC,GAAZ,CAAgBC,WAAhB,CAA4B,CAACC,GAAD,EAAKC,GAAL,KAAW;AACtC,UAAGD,GAAH,EAAO;AACNL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACA,OAFD,MAGI;AACH,YAAGC,GAAG,CAACC,MAAJ,IAAc,CAAjB,EACAZ,SAAS,GAAG,IAAZ;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKO,KAAL,CAAWC,OAAvB,EAA+BH,GAA/B;AACAb,QAAAA,OAAO,GAAGa,GAAV;AACAN,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA;AACD,KAXD;AAYA;;AACD,MAAGR,OAAH,EAAW;AACV,UAAM;AAACS,MAAAA;AAAD,QAAS,MAAMZ,OAAO,EAA5B;AACA,QAAGE,KAAK,KAAKU,IAAI,CAACQ,KAAL,CAAWC,iBAAX,CAA6BlB,OAA7B,CAAb,EACCC,OAAO,GAAG,IAAV;AACD;;AACD,SAAO;AAACC,IAAAA,SAAD;AAAWD,IAAAA,OAAX;AAAmBD,IAAAA;AAAnB,GAAP;AACA,CAjCM","sourcesContent":["import React from 'react';\nimport {getWeb3} from './getWeb3';\n\nexport const getAccount = async(admin)=>{\n\tlet address;\n\tlet isAdmin = false, isAccount = false;\n\n\tif(typeof window!='undefined' && typeof window.ethereum!='undefined'){\n\t\tawait window.ethereum.enable();\n\t\taddress = await ethereum.selectedAddress\n\t\tif(address){\n\t\t\tisAccount = true;\n\t\t}\n\t\tconsole.log(\"acc 1\",address)\n\t}\n\n\telse if(typeof window!='undefined' && typeof window.web3!='undefined' && typeof window.web3.eth!='undefined' ){\n\t\twindow.web3.eth.getAccounts((err,acc)=>{\n\t\t\tif(err){\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(acc.length >= 1)\n\t\t\t\tisAccount = true;\n\t\t\t\tconsole.log(this.state.account,acc);\n\t\t\t\taddress = acc;\n\t\t\t\tconsole.log(\"acc 1\")\n\t\t\t}\n\t\t})\t\n\t}\n\tif(address){\n\t\tconst {web3} = await getWeb3();\n\t\tif(admin === web3.utils.toChecksumAddress(address))\n\t\t\tisAdmin = true;\n\t}\n\treturn {isAccount,isAdmin,address}\n}"]},"metadata":{},"sourceType":"module"}